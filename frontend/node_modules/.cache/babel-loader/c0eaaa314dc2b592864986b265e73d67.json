{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\paystack\\\\frontend\\\\src\\\\components\\\\payment_page.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport ScriptTag from 'react-script-tag';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Payment = () => {\n  _s();\n\n  let history = useHistory();\n  const [details, setDetails] = useState({\n    email: '',\n    amount: '',\n    firstName: '',\n    lastName: ''\n  });\n\n  const handleChange = e => {\n    let name = e.target.name;\n    let value = e.target.value;\n    setDetails({ ...details,\n      [name]: value\n    });\n  };\n\n  const payWithPaystack = e => {\n    e.preventDefault();\n\n    if (details.email && details.amount && details.firstName && details.lastName !== '') {\n      let handler = window.PaystackPop.setup({\n        key: 'pk_test_2cae9d8b7a6ddd86baeeee57e44b2c8e2761da66',\n        // Replace with your public key\n        email: details.email,\n        amount: details.amount * 100,\n        firstname: details.firstName,\n        lastname: details.lastName,\n        ref: 'Gr' + Math.floor(Math.random() * 1000000000 + 1),\n        // generates a pseudo-unique reference. Please replace with a reference you generated. Or remove the line entirely so our API will generate one for you\n        // label: \"Optional string that replaces customer email\"\n        onClose: function () {\n          history.push('/');\n        },\n        callback: function (response) {\n          axios({\n            method: 'get',\n            url: 'http://bit.ly/2mTM3nY',\n            responseType: 'stream'\n          }).then(function (response) {\n            con;\n          });\n        } // callback: function(response) {\n        //     window.location = \"http://www.yoururl.com/verify_transaction.php?reference=\" + response.reference;\n        //   }\n\n      });\n      handler.openIframe();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ScriptTag, {\n      isHydrating: false,\n      type: \"text/javascript\",\n      src: \"https://js.paystack.co/v1/inline.js\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              class: \"box\",\n              onSubmit: payWithPaystack,\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Payment Page\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"text-muted\",\n                children: \" Please enter your details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                name: \"email\",\n                placeholder: \"Email\",\n                onChange: handleChange,\n                value: details.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"amount\",\n                placeholder: \"Amount\",\n                onChange: handleChange,\n                value: details.amount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"firstName\",\n                placeholder: \"First Name\",\n                onChange: handleChange,\n                value: details.firstName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"lastName\",\n                placeholder: \"Last Name\",\n                onChange: handleChange,\n                value: details.lastName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"submit\",\n                name: \"\",\n                value: \"Pay\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 22\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Payment, \"vn0EbXHf9JjDt/hNXsL0KRKLuks=\", false, function () {\n  return [useHistory];\n});\n\n_c = Payment;\nexport default Payment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"sources":["C:/xampp/htdocs/paystack/frontend/src/components/payment_page.js"],"names":["React","useState","ScriptTag","useHistory","axios","Payment","history","details","setDetails","email","amount","firstName","lastName","handleChange","e","name","target","value","payWithPaystack","preventDefault","handler","window","PaystackPop","setup","key","firstname","lastname","ref","Math","floor","random","onClose","push","callback","response","method","url","responseType","then","con","openIframe"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport ScriptTag from 'react-script-tag';\r\nimport {useHistory} from 'react-router-dom';\r\nimport axios from 'axios'\r\n\r\nconst Payment = () => {\r\n    let history = useHistory();\r\n    const [details, setDetails] = useState({email:'', amount:'', firstName:'', lastName:''})\r\n\r\n    const handleChange = (e)=>{\r\n     let name = e.target.name;\r\n     let value = e.target.value;\r\n     setDetails({...details, [name]: value })\r\n    }\r\n    const payWithPaystack = (e)=>{\r\n     e.preventDefault(); \r\n     if(details.email && details.amount && details.firstName && details.lastName !== ''){\r\n        let handler = window.PaystackPop.setup({\r\n            key: 'pk_test_2cae9d8b7a6ddd86baeeee57e44b2c8e2761da66', // Replace with your public key\r\n            email: details.email,\r\n            amount: details.amount * 100,\r\n            firstname:details.firstName,\r\n            lastname:details.lastName,\r\n            ref: 'Gr'+Math.floor((Math.random() * 1000000000) + 1), // generates a pseudo-unique reference. Please replace with a reference you generated. Or remove the line entirely so our API will generate one for you\r\n            // label: \"Optional string that replaces customer email\"\r\n            onClose: function(){\r\n              history.push('/');\r\n            },\r\n            callback: function(response){\r\n                axios({\r\n                    method: 'get',\r\n                    url: 'http://bit.ly/2mTM3nY',\r\n                    responseType: 'stream'\r\n                  })\r\n                    .then(function (response) {\r\n                      con\r\n                    });\r\n            }\r\n            // callback: function(response) {\r\n            //     window.location = \"http://www.yoururl.com/verify_transaction.php?reference=\" + response.reference;\r\n            //   }\r\n          });\r\n          handler.openIframe(); \r\n     }\r\n     \r\n    }\r\n    return (\r\n        <>\r\n    <ScriptTag isHydrating={false} type=\"text/javascript\" src=\"https://js.paystack.co/v1/inline.js\" /> \r\n    <div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n            <div class=\"card\">\r\n                <form  class=\"box\" onSubmit={payWithPaystack}>\r\n                    <h1>Payment Page</h1>\r\n                    <p class=\"text-muted\"> Please enter your details</p> \r\n                    <input type=\"email\" name=\"email\" placeholder=\"Email\" onChange={handleChange} value={details.email}/> \r\n                    <input type=\"number\" name=\"amount\" placeholder=\"Amount\" onChange={handleChange} value={details.amount}/>\r\n                    <input type=\"text\" name=\"firstName\" placeholder=\"First Name\" onChange={handleChange} value={details.firstName}/>\r\n                    <input type=\"text\" name=\"lastName\" placeholder=\"Last Name\" onChange={handleChange} value={details.lastName}/>\r\n                     <input type=\"submit\" name=\"\" value=\"Pay\"/>\r\n                </form> \r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Payment;"]},"metadata":{},"sourceType":"module"}